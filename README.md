# Лабораторная работа №4. Взаимодействие с сервером.

**Выполнила**: Рябых  
**Язык программирования**: Java

---

## Описание приложения

Приложение предназначено для сохранения статистики проигрываемых песен на радио Мегабайт. Оно обеспечивает опрос сервера, проверку подключения к Интернету и сохранение данных в базу данных SQLite.

---

## Функциональность

1. **База данных**:  
   - В базе данных SQLite создается таблица с следующими полями:
     - `ID`
     - `Исполнитель`
     - `Название трека`
     - `Время внесения записи`

2. **Проверка Интернет-соединения**:  
   - При запуске приложения производится проверка наличия Интернет-соединения.
   - В случае отсутствия подключения показывается сообщение (Toast) о режиме оффлайн. В этом режиме доступен только просмотр ранее добавленных записей.

3. **Опрос сервера**:  
   - При наличии Интернета приложение выполняет асинхронный опрос сервера с интервалом 20 секунд.
   - URL для получения текущего трека: `http://media.ifmo.ru/api_get_current_song.php`
   - Для встроенной аутентификации при запросах необходимо указывать POST-параметры:
     - **login**: `4707login`
     - **password**: `4707pass`

4. **Обработка ответов от API**:  
   - В случае успешно ски успешного ответа API возвращается JSON:
     - `{ "result": "success", "info": "Исполнитель – Название трека" }`
   - В случае ошибки возвращается JSON:
     - `{ "result": "error", "info": "Информация об ошибке" }`

5. **Сравнение данных**:
   - Полученный от API трек сравнивается с последней записью в базе данных.
   - Если трек отличается, производится добавление новой записи в базу SQLite.

6. **Интерфейс**:
   - Приложение содержит активити для просмотра записей из базы данных.
   - Записи отображаются с указанием ID, Исполнителя, Названия трека и времени внесения.




